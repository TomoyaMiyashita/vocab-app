# Cursor Rules (開発ルール) ✅

本リポジトリにおける「作業の進め方 (cursor rules)」です。主に **デプロイやビルドに関わる変更を push する前** に守るルールをまとめています。

## 重要ルール

- **必ずローカルでビルドを通してから push すること** 🔧
  - 例: `npm ci && npm run build`（Next.js のプロダクションビルドを実行）
  - ビルドが失敗したら push せず、原因を修正すること

- **本番デプロイを確認する場合** 💡
  - `npx vercel --prod` を使ってデプロイして本番環境でのビルド/ランタイムを確認できます（事前に `vercel login` が必要）。
  - 注意: `npx vercel --prod` は実際に本番へデプロイするコマンドです。実行前に必ず意図を確認してください。

- **CI でのビルドチェックを必須にすること** ✅
  - プルリクエストで `npm run build` を実行するワークフローを追加しています（`.github/workflows/ci-build.yml`）。これはVercel上のビルドに先んじて問題を検出するための安全策です。 

- **認証について** 🔐
  - Vercel CLI を使う場合はローカルで `vercel login` を行うか、CI で使う場合は `VERCEL_TOKEN` を GitHub Secrets に登録してください。

---

小さなルールで事故を防げます。ビルド関連の変更（依存追加、ビルド設定変更、Next.js のルート変更など）を含む PR の場合は、このチェックを厳守してください。